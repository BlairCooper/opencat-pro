<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [getAnsweredQuestions](#getansweredquestions)
-   [getVisitedQuestionSet](#getvisitedquestionset)
-   [calculateAndSaveAvailableSections](#calculateandsaveavailablesections)
-   [getUnAnsweredQuestions](#getunansweredquestions)
-   [canMoveToNextSection](#canmovetonextsection)
-   [getNextQuestionWithMaxInfo](#getnextquestionwithmaxinfo)
-   [getPatientData](#getpatientdata)
-   [load_response](#load_response)
-   [updateScores](#updatescores)
-   [constructScoreArray](#constructscorearray)
-   [constructAvailableSectionArray](#constructavailablesectionarray)
-   [constructAndStoreUserTags](#constructandstoreusertags)
-   [getAllScores](#getallscores)
-   [constructSurveyIdArray](#constructsurveyidarray)
-   [generateScoreObject](#generatescoreobject)
-   [getActiveStudies](#getactivestudies)
-   [calculateScore](#calculatescore)

## getAnsweredQuestions

This function returns answered questions for a particular section of a survey.

**Parameters**

-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `sectionId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired section.
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function to pass the answered questions to.

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)>** An array of the answered questions, each one represented as a JS Object. This is passed to the callback parameter.

## getVisitedQuestionSet

This function returns the question set to a survey in progess

**Parameters**

-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `sectionId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired section.
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.
-   `callbacktoExecute` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** ???
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function to pass the question set to.

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)>** An array of question objects, which represents the question set. This is passed to the callback parameter.

## calculateAndSaveAvailableSections

This function calculates the scores for any available survey sections and saves them.

**Parameters**

-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `sectionId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired section.
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function to pass the saved scores to.

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)>** An array of question objects with calculated scores. This is passed to the callback parameter.

## getUnAnsweredQuestions

This function returns the unanswered questions of a survey in progress.

**Parameters**

-   `userid`  
-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `sectionId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired section.
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function to pass the questions to.

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)>** An array of question objects, all of which are unanswered. This is passed to the callback parameter.

## canMoveToNextSection

This function checks whether the survey can move on to the next section.

**Parameters**

-   `userId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the current user.
-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `sectionId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired section.
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function to pass the result to.

Returns **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** Represents whether the survey can move on. This is passed to the callback parameter.

## getNextQuestionWithMaxInfo

This function returns the next eligible question, or an empty JSON object if none is found.

**Parameters**

-   `userid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the current user.
-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `sectionId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired section.
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function to pass the question to.

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** A question object. This is passed to the callback parameter.

## getPatientData

This function returns all patients and the number of existing surveys.

**Parameters**

-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function to pass the result to.

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)>** An array of user objects. This is passed to the callback parameter.

Returns **[number](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number)** A count of all existing surveys. This is passed to the callback parameter.

## load_response

This function calls helperMethods.updateScores after checking if a score exists for a survey section. If one doesn't exist, it will create one, and still call helperMethods.updateScores.

**Parameters**

-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `sectionId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired section.
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function that is passed to helperMethods.updateScores.

## updateScores

This function updates the scores of a survey section and runs a callback function.

**Parameters**

-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.
-   `sectionId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired section.
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function that is run.

## constructScoreArray

This function contructs an array of scores for all sections of a particular survey.

**Parameters**

-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function to pass the score array to.

Returns **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)>** An array of score objects. This is passed to the callback parameter.

## constructAvailableSectionArray

This function updates a survey with available sections.

**Parameters**

-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.
-   `doesWalk` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Whether the user walks.
-   `usesMWC` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Whether the user has a manual wheelchair.
-   `usesPWC` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Whether the user has a powered wheelchair.
-   `callback` **[function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** The callback function to pass the result to.

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The specified survey with available sections. This is passed to the callback parameter.

## constructAndStoreUserTags

This function creates property tags for a user and stores them in a UserData record.

**Parameters**

-   `server` **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** The current server instance.
-   `surveyid`  
-   `userid` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the current user.
-   `canWalk` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Whether the user walks.
-   `married` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Whether the user is married.
-   `usesMWC` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Whether the user has a manual wheelchair.
-   `usesPWC` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Whether the user has a powered wheelchair.
-   `bladder` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Whether the user ???
-   `living` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Whether the user ???
-   `para` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** Whether the user ???
-   `surveyId` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** The ID of the desired survey.

## getAllScores

This function retrieves all scores for the surveys specified.

**Parameters**

-   `server`  
-   `obj`  
-   `callback`  
-   `replyObj`  

## constructSurveyIdArray

This function retrieves all surveys for the specified user.

**Parameters**

-   `server`  
-   `userId`  
-   `callback1`  
-   `callback2`  
-   `replyObj`  

## generateScoreObject

This function generates a Score object.

**Parameters**

-   `dbModel`  
-   `time`  

## getActiveStudies

This function retrieves all the active studies a user is part of.

**Parameters**

-   `server`  
-   `userId`  
-   `callback`  

## calculateScore

Calculates and returns score. This should be enhanced and custom defined for each project.

**Parameters**

-   `callback`  

## 

This utility describes various templates and
methods to send out emails. Uses the email
credentials supplied during setup.
